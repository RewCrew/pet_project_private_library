# PET-PROJECT
##Выполнил Шайдуллин К.Р.

### Запуск проекта в:
`Docker`, команда для запуска:
   
`docker-compose up --build -d --remove-orphans`

### Описание проекта:
Проект “Частная библиотека” 

Заполнение библиотеки через cli команду в контейнере books_service:
    `books_api get-books (tags)`

Команда принимает на обработку от 1 до n тегов 
По одному тегу берется 50 книг или максимум, если количество книг меньше.

После загрузки происходит рассылка всем зарегистрированным пользователям топ 3-х книг по каждой теме,
ведущей по рейтингу, отсортированы по году в приоритете старые.

    
Реализована регистрация пользователей по адресу:
    `http://localhost/api/users/register`

###Действия пользователя:

Получить список книг. Фильтр по цене/ключевому слову/автору/издателю. Сортировка по цене/размеру.
    `http://localhost/api/books/show_filtered_books`

Получить полную информацию по книге.
`http://localhost/api/books/get_book?isbn=book_isbn_example`

Получить список ранее взятых книг. 
`http://localhost/api/books/get_history_books`

Получить активную книгу
`http://localhost/api/books/get_user_books`

Забронировать книгу на промежуток времени. Книга бронируется от текущего дня на неделю или выбранный период. Нельзя забронировать уже забронированную книгу.
`http://localhost/api/books/prebook_book`

Закрыть бронь книги.
`http://localhost/api/books/return_book`

Пользователь может выкупить книгу. Можно выкупить только забронированную книгу.
`http://localhost/api/books/buy_book`

_____________________________________________________________________
1) `UML` диаграммы находятся в папке `/docs`.

2) Для хранения данных используется `PostgreSQL`.

3) Проксирование происходит через веб-сервер `Nginx`.

4) Для развертывания приложения используется `Docker`. 

5) Список тегов отправляется в очередь `RabbitMQ`.

6) Теги из очереди обрабатывает `consumer` в микросервисе `Book_service`.

7) Топ-3 книги обрабатывает `consumer` в микросервисе `User_service`.

8) web-framework - `Falcon`